<!--Page for the question submission form will store into a local list to be used later-->
@page "/questions"
@inject NavigationManager navigationManager
@inject Question questions
@using Data

<h3>Question</h3>
<div>
    <label for="qtitle">Title </label><br>
    <input maxlength="20" @bind="question.Title" />
</div>
<div>
    <label for="qdescription">Description</label><br>
    <textarea name="qdescription" rows="10" cols="50" maxlength="5000" @bind="question.Description"></textarea>
</div>

<button class="btn btn-primary"  @onclick="OnSubmit">Submit</button>

<!--Code for page logic belw-->
@code{

    Question question = new Question(); //Making a new question object when entering the page
    
    protected async void OnSubmit(MouseEventArgs mouseEventArgs)
    {
        this.question.Title = question.Title;               //Set the title to info in title input box
        this.question.Description = question.Description;   //Set the description to the info in the description box
        
        //Logic for adding to storage goes here
        //Resource used to do this below 
        //https://stackoverflow.com/questions/67938642/blazor-server-how-to-persist-data-across-multiple-tabs-and-refreshes
        if(!string.IsNullOrWhiteSpace(question.Title) && !string.IsNullOrWhiteSpace(question.Description))
        {
            questions.QuestionsList.Add(question);
            navigationManager.NavigateTo("/posthome"); //navigate to the post page once submitted
        }   
    }

}